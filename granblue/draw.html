<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Draw Rate Calculator</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css" integrity="sha256-szHusaozbQctTn4FX+3l5E0A5zoxz7+ne4fr8NgWJlw=" crossorigin="anonymous">
		<style>
			body { font-family: -apple-system, sans-serif; font-size: 80%; max-width: 80em; margin: 0 auto; }
			h1 { font-size: 1.5em;  }
			h1, .warning { text-align: center; }
			h3 { margin: 0.4em 1.4em 0; font-size: 1em; }
			p { margin: 1.4em; }
			.chart { width: calc(100% - 18em - 1.4em); cursor: pointer; }
			#chart-cumulative { height: 21em; }
			#chart-distribution { height: 10em; }
			#options { float: right; width: 18em; margin-left: 1.4em; }
			#minimum { width: 3em; }
			#queries { padding-left: 1em; }
			#add-query select, #add-query button { margin: 0 0.5em 0.5em 0; display: block; }
			#queries li span { border-bottom: 1px dotted #333; cursor: help; }
			#options > label { font-weight: bold; display: block; margin: 1em 0 0.25em; }
			#options > label:first-child { margin-top: 0; }
			textarea { width: 95%; }
			@media only screen and (max-width: 32em) {
				.chart { width: 100%; }
				#options { float: none; width: calc(100% - 1em); margin: 0 0.5em; }
			}
		</style>
	</head>
	<body>
		<h1>Draw Rate Calculator</h1>
		<p class="warning"><strong>Warning:</strong> This is <strong>experimental</strong>, and may produce <strong>incorrect results</strong>. <strong>You are responsible</strong> for verifying any results before you use them.</p>
		<form id="options">
			<label>Graph the probability of drawing at least
			<input id="minimum" type="number" value="1" min="1">
			of:</label>
			<textarea id="wishlist" name="wishlist" rows="5">Azazel
Vampire's Nail</textarea>
			<ul id="queries"></ul>
			<div id="add-query"></div>
			<label for="exclude-list">Excluding</label>
			<textarea id="exclude-list" name="exclude-list" rows="5"></textarea>
			<label for="max-draws">Maximum Draws</label>
			<input id="max-draws" name="max-draws" type="number" value="300" min="1">
			<label for="draw-data" title="Draw rate data copy and pasted from the in-game list">Draw rates from in-game</label>
			<textarea id="draw-data" name="draw-data" rows="10">SS Rare Rates 3.00%
SS Rare Character Weapons Rates
Dainsleif
  (Altair) 0.018%
Lohengrin
  (Percival) 0.018%
Cla√≠omh Solais
  (Charlotta) 0.018%
Nagelring
  (Izmir) 0.018%
Ascalon
  (Siegfried) 0.018%
Greatsword Andalius
  (Aletheia) 0.018%
Yyrkoon
  (Yuisis) 0.018%
Caladbolg
  (Jeanne d'Arc) 0.018%
Ethereal Lasher
  (Ferry) 0.018%
Hauteclaire
  (Albert) 0.018%
Hrotti
  (Seruel) 0.018%
Symbol of Justice
  (Baotorda) 0.018%
Disparia
  (Jeanne d'Arc) 0.018%
Gram
  (Beatrix) 0.018%
Lyst Sin
  (Vira) 0.018%
Mistilteinn
  (Vaseraga) 0.018%
Hoarfrost Blade Persius
  (Lancelot) 0.018%
Phantom Thief Blade
  (Chat Noir) 0.018%
Arsene
  (Catherine) 0.018%
Heaven's Cloud
  (Petra) 0.018%
Thunder Dirk Jove
  (Agielba) 0.018%
Twin Helix
  (Rosamia) 0.018%
Azoth
  (Vania) 0.018%
Bloody Scar
  (Veight) 0.018%
Brionac
  (Zeta) 0.018%
Luin
  (Heles) 0.018%
Pilum
  (Nezahualpilli) 0.018%
Daemon's Spine
  (Anne) 0.018%
Gae Derg
  (Razia) 0.018%
Gargantua
  (Arulumaya) 0.018%
Turpin Spear
  (Carmelina) 0.018%
Shadow Viperlance
  (Azazel) 0.700%
Skyrend Spear
  (Forte) 0.018%
Sunspot Spear
  (Zeta) 0.018%
Scarlet Crest Axe
  (Yuel) 0.018%
Way Flyer
  (Aoidos) 0.018%
Blossom Axe
  (Vane) 0.018%
Mettle
  (Nemone) 0.018%
Split End
  (Melissabelle) 0.018%
Windflash
  (Gawain) 0.018%
Ukonvasara
  (Lady Grey) 0.018%
Soul Eater
  (Hallessena) 0.018%
Vassago
  (Melleau) 0.018%
Forbidden Inferno
  (Anthuria) 0.018%
Illusion Scepter
  (Magisa) 0.018%
Starblaze Rings
  (Zahlhamelina) 0.018%
Ice Crystal Staff
  (Lily) 0.018%
Montague's Oath
  (Romeo) 0.018%
Ouroboros
  (Cagliostro) 0.018%
Thyrsus
  (De La Fille) 0.018%
Kerykeion
  (De La Fille) 0.018%
Wing of the Pure
  (Korwa) 0.018%
Capulet's Oath
  (Juliet) 0.018%
Sealed Claustrum
  (Sarunan) 0.018%
Black Ouroboros
  (Cagliostro) 0.018%
Gridarvor
  (Marquiares) 0.018%
Kalaurops
  (Sarunan) 0.018%
Meteora
  (Yngwie) 0.018%
Vlisragna
  (Silva) 0.018%
Stratomizer
  (Eustace) 0.018%
Far Away
  (Lennah) 0.018%
Blushing Blossom Pin
  (Societte) 0.018%
Brahma Gauntlet
  (Ghandagoza) 0.018%
Draco Claw
  (Grea) 0.018%
Magma Gauntlet
  (Aliza) 0.018%
Metal Hand
  (Lady Katapillar and Vira) 0.018%
Scarlet Vane
  (Societte) 0.018%
Ancient Bandages
  (Ayer) 0.018%
Deirdre's Claws
  (Scathacha) 0.018%
Gothic Cutlery
  (Dorothy and Claudia) 0.018%
Coco & Mimi
  (Cerberus) 0.018%
Roseate Aetherial Bow
  (Metera) 0.018%
Aetherial Bow
  (Metera) 0.018%
Heroic Bow
  (Feena) 0.018%
Mobius Strip
  (Clarisse) 0.018%
Melodic Sphere
  (Lilele) 0.018%
Ocean Harp
  (Sophia) 0.018%
Bella Aeterna
  (Yggdrasil) 0.018%
Sandcastle Song-Lume
  (Sara) 0.018%
Cords of Heaven Lillah 
  (Arriet) 0.018%
Fusion Mobius
  (Clarisse) 0.018%
Venustas
  (Narmaya) 0.018%
Dragon Slayer
  (Amira) 0.018%
Fudo-Kuniyuki
  (Yodarha) 0.018%
SS Rare Summon Rates
Agni 0.015%
Athena 0.015%
Prometheus 0.015%
Satyr 0.015%
Sethlans 0.015%
Shiva 0.015%
Twin Elements 0.015%
Zaoshen 0.015%
Bonito 0.015%
Ca Ong 0.015%
Europa 0.015%
Grani 0.015%
Kaguya 0.015%
Macula Marius 0.015%
Neptune 0.015%
Oceanus 0.015%
Varuna 0.015%
Ankusha 0.015%
Baal 0.015%
Cybele 0.015%
Gilgamesh 0.015%
Godsworn Alexiel 0.015%
Medusa 0.015%
Tezcatlipoca 0.015%
Titan 0.015%
Garuda 0.015%
Garula, Shining Hawk 0.015%
Morrigna 0.015%
Nezha 0.015%
Quetzalcoatl 0.015%
Rose Queen 0.015%
Setekh 0.015%
Siren 0.015%
Zephyrus 0.015%
Aphrodite 0.015%
Apollo 0.015%
Grand Order 0.015%
Hector 0.015%
Lucifer 0.015%
Odin 0.015%
Thor 0.015%
Vortex Dragon 0.015%
Zeus 0.015%
Anubis 0.015%
Bahamut 0.015%
Dark Angel Olivia 0.015%
Hades 0.015%
Lich 0.015%
Nacht 0.015%
Satan 0.015%
Typhon 0.015%
S Rare Rates 15.00%
S Rare Character Weapons Rates
Ember Blade
  (Carren) 0.043%
Ram-Dao
  (Gayne) 0.043%
Tanzanite Sword Mikoh
  (Therese) 0.043%
Aquablade
  (Mina) 0.043%
Bottle o' Blossoms
  (Lamretta) 0.043%
Royal Rapier
  (Ange) 0.043%
Sword of Sorcery
  (Owen) 0.043%
Frying Pan
  (Yaia) 0.043%
Grand Edge
  (Herja) 0.043%
White Flag
  (Mimlemel and Stumpeye) 0.043%
Arondight
  (Baotorda) 0.043%
True Teardrop
  (Vermeil) 0.043%
Lyst
  (Vira) 0.043%
Purity Blade
  (Lucius) 0.043%
Tilvung
  (Helnar) 0.043%
Soulbond Dirk
  (Teena) 0.043%
Shrike's Beak
  (Jamil) 0.043%
Sword of Lisblanc
  (Farrah) 0.043%
Soul Edge
  (Ferry) 0.043%
Katzbalger
  (Jamil) 0.043%
Puppet Knife
  (Danua) 0.043%
Scalpel
  (Shao) 0.043%
Wyrm Claw
  (Tanya) 0.043%
Flare Glaive
  (Mariah) 0.043%
Raging Halberd
  (Vane) 0.043%
Narval
  (Ulamnuran) 0.043%
Titanium Harpoon
  (Sig) 0.043%
Dreadflayer
  (Laguna) 0.043%
Giant Fork
  (Redluck) 0.043%
Golden Mop
  (Claudia) 0.043%
Lance d'Espoir
  (Jeanne d'Arc) 0.043%
Brocken Lance
  (Deliford) 0.043%
Massive Axe
  (Ryan) 0.043%
Fremel Hammer
  (Almeida) 0.043%
Great Hammer
  (Galadar) 0.043%
Cloud Tomahawk
  (Eso) 0.043%
Holy Axe
  (Sevastien) 0.043%
Golden Woofer
  (Daetta) 0.043%
Voulge
  (Zaja) 0.043%
Arson
  (Elmott) 0.043%
Arson Link
  (Blazing Teacher Elmott) 0.043%
Nature's Mystery
  (Dante) 0.043%
Soothing Torch
  (Rosamia) 0.043%
Witch's Broom
  (Anna) 0.043%
Ice Bough Staff
  (Erin) 0.043%
Spritewood Staff
  (Mishra) 0.043%
Zhonpeli
  (Lamretta) 0.043%
Aerial Cane
  (Arusha) 0.043%
Flower Crown
  (Jasmine) 0.043%
Wind-Rhyme Staff
  (Noa) 0.043%
Sacred Codex
  (Johann) 0.043%
Cursed Cane
  (Will) 0.043%
Shadow Scepter
  (Goblin Mage) 0.043%
Dolphin
  (Cucouroux) 0.043%
Fire Piece
  (Mary) 0.043%
Colorful Crackerjack
  (Pengy) 0.043%
Quarrel
  (Sahli Lao) 0.043%
Handy Arquebus
  (Jessica) 0.043%
Standard Albion Bolt
  (Tyre) 0.043%
Hunter's Rifle
  (Ludmila) 0.043%
Chain Knuckles
  (Ezecrain) 0.043%
Crimson Talons
  (Sen) 0.043%
Cup and Saucer
  (Dorothy) 0.043%
Kaiser Knuckles
  (Alec) 0.043%
Impact Knuckles
  (Soriz) 0.043%
Metal Glove
  (Ladiva) 0.043%
Merciless Chastening
  (Hazen) 0.043%
Heavy Blast Knuckles
  (Feather) 0.043%
Misanga Bracelet
  (J.J.) 0.043%
Tiger Fang
  (Mimlemel) 0.043%
Cruel Claw
  (Predator) 0.043%
Vampire's Nail
  (Vania) 1.500%
Glass Bow
  (Sutera) 0.043%
Ice Bow
  (Milleore) 0.043%
Sutera's Bow
  (Sutera) 0.043%
Slingshot
  (Sarya) 0.043%
Aquarium Harp
  (Ejaeli) 0.043%
Songsmith's Harp
  (Elta) 0.043%
Stravaria
  (Keehar) 0.043%
Wandering Blade
  (Lucius) 0.043%
Zanbato
  (Sevilbarra) 0.043%
S Rare Non-Character Weapons Rates
Fragarach 0.166%
Almace 0.166%
Ilhoon 0.166%
Twisted Dagger 0.166%
Mirage Knife 0.166%
Stiletto 0.166%
Fusetto 0.166%
Sword Breaker 0.166%
Trident 0.166%
Partisan 0.166%
Dragonfliar Cutter 0.166%
Shura Vhara 0.166%
Vajranda 0.166%
Bullova 0.166%
Shoka 0.166%
Horseman's Hammer 0.166%
Yagrush 0.166%
Pastoral Staff 0.166%
Holy Cane 0.166%
Dragon Tail 0.166%
Wheellock Axe 0.166%
Crosswind 0.166%
Snaphance 0.166%
Swallowtail 0.166%
Mauler 0.166%
Neko Punch 0.166%
Jamadhar 0.166%
Imperial Bow 0.166%
Sarnga 0.166%
Aves 0.166%
Elfin Bow 0.166%
Shadow Bow 0.166%
Athanasius 0.166%
Iron Tiger 0.166%
Fluorithium Blade 0.166%
Sauria 0.166%
S Rare Summon Rates
Garnet Carbuncle 0.190%
Hellhound 0.190%
Hydra 0.190%
Vrazarek Firewyrm 0.190%
Angelie Cascade 0.190%
Aquamarine Carbuncle 0.190%
Wilinus Icewyrm 0.190%
Clay Golem 0.190%
Doomworm 0.190%
Golem 0.190%
Myconid 0.190%
Ruination Gargoyle 0.190%
Stone Golem 0.190%
Zircon Carbuncle 0.190%
Elmenhilde Windsprite 0.190%
Elusious Windwyrm 0.190%
Griffin 0.190%
Wyvern 0.190%
Opal Carbuncle 0.190%
Pixie 0.190%
Onyx Carbuncle 0.190%
Rare Rates 82.00%
Rare Character Weapons Rates
Fire Sword
  (Farrah) 0.210%
Vintage Flat Iron
  (Rosine) 0.210%
Shrimp Lure
  (Yodarha) 0.210%
White Sword
  (Bridgette) 0.210%
Heavy Metal Comb
  (La Coiffe) 0.210%
Two-Handed Sword
  (Herja) 0.210%
Xiphos
  (Volenna) 0.210%
Lightbringer
  (Stan) 0.210%
Old Sword
  (Krugne) 0.210%
Paper Fan
  (Karteira) 0.210%
Practice Sword
  (Thelonim) 0.210%
Blue Crest
  (Cordelia) 0.210%
Prism Tear
  (Vermeil) 0.210%
Thunder Rapier
  (Rosamia) 0.210%
Dark Sword
  (Leonora) 0.210%
Broken Bottle
  (Lamretta) 0.210%
Little Scarlet
  (Drusilla) 0.210%
Mandau
  (Zehek) 0.210%
Bloody Piercer
  (Tanya) 0.210%
Switchblade
  (Lowain) 0.210%
Silver Pole
  (Joel) 0.210%
Ghillie Fork
  (Elmelaura) 0.210%
Night Horn
  (Deliford) 0.210%
Iron Pliers
  (Viceroy) 0.210%
Soldier Axe
  (Ryan) 0.210%
Draph Hammer
  (Galadar) 0.210%
Sky Tomahawk
  (Eso) 0.210%
Morning Star
  (Daetta) 0.210%
Forest Hermit Staff
  (Dante) 0.210%
Rubia Rod
  (Camieux) 0.210%
Torch
  (Camieux) 0.210%
Snowman Rod
  (Suframare) 0.210%
Student Notebook
  (Alistair) 0.210%
Stone Pole
  (Norcel) 0.210%
Taiaha
  (Jasmine) 0.210%
Feather Wand
  (Anna) 0.210%
Moss Tree Staff
  (Petra) 0.210%
Light Staff
  (Philosophia) 0.210%
The Cross
  (Will) 0.210%
Derringer
  (Barawa) 0.210%
Flame Bolt
  (Karva) 0.210%
Sawed-Off Shotgun
  (Garma) 0.210%
Self Defender
  (Richard) 0.210%
Petronel
  (Mary) 0.210%
Chopsticks
  (Ippatsu) 0.210%
Boogie Plates
  (Cailana) 0.210%
Oven Mitts
  (Nene) 0.210%
Tattoo Fist
  (Randall) 0.210%
Iron Guard
  (Balurga) 0.210%
Mythril Knuckles
  (Hazen) 0.210%
Tonfa
  (Vanzza) 0.210%
Enchanted Nail
  (Chloe) 0.210%
Light Buckler
  (Pavidus) 0.210%
Blast Knuckles
  (Feather) 0.210%
Flame Bow
  (Flesselles) 0.210%
Bronze Bell
  (Bakura) 0.210%
Night Bell
  (Lunalu) 0.210%
Rare Non-Character Weapons Rates
Anelace 0.692%
Claymore 0.692%
Falchion 0.692%
Flame Rapier 0.692%
Ice Sword 0.692%
Icey Nail 0.692%
Earth Cutlass 0.692%
Fire Baselard 0.692%
Kila 0.692%
Mailbreaker 0.692%
Water Kukri 0.692%
Kris 0.692%
Emerald Dagger 0.692%
Leaf Dagger 0.692%
Holy Kris 0.692%
Assassin's Dagger 0.692%
Dark Knife 0.692%
Couse 0.692%
Fire Glaive 0.692%
Flame Halberd 0.692%
Langdebeve 0.692%
Aquan Killer 0.692%
Earth Halberd 0.692%
Halberd 0.692%
Harvester 0.692%
Battle Axe 0.692%
Earth Zaghnal 0.692%
Rock Hammer 0.692%
Wind Axe 0.692%
Tabar 0.692%
Thunder Kalinga Axe 0.692%
Neckchopper 0.692%
Cane 0.692%
Ocean Rod 0.692%
Water Rod 0.692%
Feather Staff 0.692%
Emerald Cane 0.692%
Wind Rod 0.692%
Shareeravadi 0.692%
Evil Wand 0.692%
Grenade 0.692%
Matchlock 0.692%
Straight Anchor 0.692%
Ranger Pistol 0.692%
Hand Pistol 0.692%
Jezail 0.692%
Fireball 0.692%
Heated Pata 0.692%
Pata 0.692%
Fish Tooth 0.692%
Gauntlet 0.692%
Tidal Wraps 0.692%
Rock Cutter 0.692%
Mythril Baghnakhs 0.692%
Whirlwind Wraps 0.692%
Composite Bow 0.692%
Mythril Bow 0.692%
Longbow 0.692%
Earth Bow 0.692%
Power Bow 0.692%
War Bow 0.692%
Wrapped Bow 0.692%
Lyre of Lamia 0.692%
Nodachi 0.692%
Mythril Katana 0.692%
Rare Summon Rates
Minotaur 1.041%
Twilight Devil 1.041%
Venom Lancer 1.041%
Walking Torch 1.041%
Angelie 1.041%
Crusher 1.041%
Jawfish 1.041%
Purgatorian 1.041%
Rivacuda 1.041%
Slime 1.041%
Swordshark 1.041%
Bonethorn 1.041%
Crawler 1.041%
Lumacie Griffin 1.041%
Mandrake 1.041%
Sleepyhead 1.041%
Belle 1.041%
Dragonflair 1.041%
Hornbird 1.041%
Rodfly 1.041%
Ghost Light 1.041%
Cave Bat 1.041%
Imp 1.041%
Skeleton 1.041%</textarea>
			<small>Built-in draw rates last updated 2017-03-05.</small>
		</form>
		<div class="chart" id="chart-cumulative"></div>
		<h3>Probability of drawing
			<select id="chart-distribution-mode">
				<option value="gte">at least</option>
				<option value="eq">exactly</option>
			</select>
			a particular number of items from the selection in
			<span id="chart-distribution-draw-count">N draws</span>
		</h3>
		<div class="chart" id="chart-distribution"></div>
		<p>Bookmark this page to save your wishlist and settings. Updates to the draw rate input list are not currently saved.</p>
		<p>Results will be slightly (~1%) off from the real rate as calculations are made by summing the individual draw rates, which are given rounded.</p>
		<p>Draws are currently only calculated as single draws. In 10-part draws, real SR rates will be slightly higher and real R rates will be slightly lower. If you know how to efficiently calculate the cumulative probability of two binomial distributions with different probabilities, <a href="https://github.com/codensity/codensity.github.io/issues">I'd like to hear from you.</a></p>
		<p id="formula"></p>
		<script defer src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
		<script defer src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js" integrity="sha256-67By+NpOtm9ka1R6xpUefeGOY8kWWHHRAKlvaTJ7ONI=" crossorigin="anonymous"></script>
		<script defer src="https://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js" integrity="sha256-0rg2VtfJo3VUij/UY9X0HJP7NET6tgAY98aMOfwP0P8=" crossorigin="anonymous"></script>
		<script defer src="https://cdnjs.cloudflare.com/ajax/libs/levenshtein/1.0.5/levenshtein.min.js" integrity="sha256-5RTt+B1DlqFis/ipkeYZ+1D8500HFobtz2aBJnhKRsA=" crossorigin="anonymous"></script>
		<script defer src="draw.js"></script>
	</body>
</html>
